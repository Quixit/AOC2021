// See https://aka.ms/new-console-template for more information

using System;
using System.Diagnostics.Contracts;

var input = new[]
{
    // new [] { 6, 10 },
    // new [] { 0, 14 },
    // new [] { 9, 10 },
    // new [] { 0, 3 },
    // new [] { 10, 4 },
    // new [] { 4, 11 },
    // new [] { 6, 0 },
    // new [] { 6, 12 },
    // new [] { 4, 1 },
    // new [] { 0, 13 },
    // new [] { 10, 12 },
    // new [] { 3, 4 },
    // new [] { 3, 0 },
    // new [] { 8, 4 },
    // new [] { 1, 10 },
    // new [] { 2, 14 },
    // new [] { 8, 10 },
    // new [] { 9, 0 }

    new[] {323, 305},
    new[] {512, 845},
    new[] {780, 175},
    new[] {308, 50},
    new[] {266, 604},
    new[] {152, 425},
    new[] {199, 618},
    new[] {214, 572},
    new[] {977, 596},
    new[] {1113, 756},
    new[] {1019, 316},
    new[] {972, 322},
    new[] {1181, 138},
    new[] {785, 756},
    new[] {504, 378},
    new[] {597, 537},
    new[] {1068, 485},
    new[] {738, 108},
    new[] {437, 359},
    new[] {1163, 567},
    new[] {585, 549},
    new[] {490, 527},
    new[] {616, 5},
    new[] {258, 605},
    new[] {1265, 473},
    new[] {728, 421},
    new[] {659, 626},
    new[] {162, 781},
    new[] {725, 549},
    new[] {165, 23},
    new[] {1148, 554},
    new[] {169, 710},
    new[] {388, 290},
    new[] {989, 746},
    new[] {619, 361},
    new[] {951, 850},
    new[] {1136, 770},
    new[] {592, 284},
    new[] {298, 430},
    new[] {441, 408},
    new[] {1014, 534},
    new[] {147, 77},
    new[] {822, 429},
    new[] {1210, 162},
    new[] {109, 647},
    new[] {65, 605},
    new[] {319, 595},
    new[] {535, 315},
    new[] {691, 420},
    new[] {266, 290},
    new[] {127, 824},
    new[] {435, 779},
    new[] {306, 161},
    new[] {248, 653},
    new[] {23, 478},
    new[] {751, 276},
    new[] {1295, 752},
    new[] {60, 855},
    new[] {1041, 757},
    new[] {639, 773},
    new[] {564, 757},
    new[] {1295, 142},
    new[] {1158, 21},
    new[] {311, 868},
    new[] {1265, 421},
    new[] {1285, 884},
    new[] {89, 26},
    new[] {45, 677},
    new[] {358, 222},
    new[] {261, 880},
    new[] {216, 173},
    new[] {440, 213},
    new[] {738, 666},
    new[] {1183, 294},
    new[] {527, 829},
    new[] {447, 483},
    new[] {112, 225},
    new[] {970, 364},
    new[] {269, 137},
    new[] {1163, 631},
    new[] {1004, 161},
    new[] {952, 584},
    new[] {616, 889},
    new[] {589, 737},
    new[] {957, 275},
    new[] {142, 581},
    new[] {238, 131},
    new[] {378, 30},
    new[] {152, 770},
    new[] {127, 600},
    new[] {311, 569},
    new[] {994, 852},
    new[] {180, 254},
    new[] {850, 590},
    new[] {1091, 173},
    new[] {927, 115},
    new[] {246, 536},
    new[] {574, 341},
    new[] {325, 891},
    new[] {460, 590},
    new[] {1004, 682},
    new[] {248, 857},
    new[] {629, 660},
    new[] {912, 107},
    new[] {850, 30},
    new[] {480, 507},
    new[] {454, 691},
    new[] {818, 106},
    new[] {802, 142},
    new[] {498, 490},
    new[] {112, 290},
    new[] {1019, 644},
    new[] {589, 856},
    new[] {256, 339},
    new[] {314, 364},
    new[] {186, 191},
    new[] {920, 564},
    new[] {119, 747},
    new[] {914, 737},
    new[] {566, 131},
    new[] {1203, 372},
    new[] {0, 578},
    new[] {807, 121},
    new[] {882, 484},
    new[] {805, 477},
    new[] {633, 446},
    new[] {438, 309},
    new[] {142, 458},
    new[] {485, 354},
    new[] {147, 406},
    new[] {1225, 757},
    new[] {873, 359},
    new[] {1039, 235},
    new[] {544, 217},
    new[] {825, 51},
    new[] {750, 801},
    new[] {818, 815},
    new[] {187, 30},
    new[] {360, 325},
    new[] {199, 177},
    new[] {1305, 242},
    new[] {569, 757},
    new[] {510, 40},
    new[] {853, 756},
    new[] {964, 182},
    new[] {1083, 332},
    new[] {1136, 322},
    new[] {1248, 663},
    new[] {187, 526},
    new[] {894, 259},
    new[] {470, 173},
    new[] {990, 35},
    new[] {457, 427},
    new[] {433, 620},
    new[] {1248, 834},
    new[] {169, 582},
    new[] {1158, 737},
    new[] {157, 632},
    new[] {459, 626},
    new[] {1289, 112},
    new[] {850, 752},
    new[] {62, 834},
    new[] {1200, 777},
    new[] {711, 435},
    new[] {1287, 507},
    new[] {82, 532},
    new[] {646, 816},
    new[] {80, 756},
    new[] {323, 813},
    new[] {691, 690},
    new[] {1016, 569},
    new[] {892, 585},
    new[] {557, 350},
    new[] {972, 200},
    new[] {179, 38},
    new[] {1083, 226},
    new[] {853, 467},
    new[] {1153, 428},
    new[] {1081, 350},
    new[] {1275, 578},
    new[] {856, 203},
    new[] {338, 200},
    new[] {157, 578},
    new[] {1300, 246},
    new[] {363, 809},
    new[] {1245, 856},
    new[] {857, 691},
    new[] {236, 585},
    new[] {950, 325},
    new[] {480, 322},
    new[] {525, 875},
    new[] {1046, 508},
    new[] {1125, 110},
    new[] {348, 234},
    new[] {985, 443},
    new[] {346, 712},
    new[] {818, 113},
    new[] {560, 93},
    new[] {1044, 537},
    new[] {1041, 309},
    new[] {53, 269},
    new[] {510, 187},
    new[] {110, 777},
    new[] {898, 801},
    new[] {1136, 613},
    new[] {694, 453},
    new[] {1044, 290},
    new[] {15, 133},
    new[] {1289, 894},
    new[] {1245, 84},
    new[] {562, 374},
    new[] {619, 499},
    new[] {482, 144},
    new[] {877, 722},
    new[] {1253, 144},
    new[] {868, 256},
    new[] {855, 152},
    new[] {1300, 648},
    new[] {691, 586},
    new[] {676, 234},
    new[] {1275, 196},
    new[] {652, 247},
    new[] {144, 259},
    new[] {668, 516},
    new[] {460, 870},
    new[] {843, 365},
    new[] {281, 809},
    new[] {351, 556},
    new[] {494, 656},
    new[] {1290, 749},
    new[] {554, 746},
    new[] {527, 294},
    new[] {353, 499},
    new[] {996, 812},
    new[] {880, 353},
    new[] {1153, 578},
    new[] {119, 203},
    new[] {15, 142},
    new[] {393, 761},
    new[] {816, 208},
    new[] {0, 92},
    new[] {557, 296},
    new[] {460, 534},
    new[] {117, 5},
    new[] {766, 117},
    new[] {231, 276},
    new[] {507, 775},
    new[] {1245, 810},
    new[] {1111, 600},
    new[] {363, 44},
    new[] {110, 341},
    new[] {1305, 298},
    new[] {338, 710},
    new[] {227, 668},
    new[] {343, 868},
    new[] {850, 669},
    new[] {72, 197},
    new[] {870, 233},
    new[] {497, 276},
    new[] {800, 707},
    new[] {336, 750},
    new[] {72, 25},
    new[] {738, 786},
    new[] {1265, 453},
    new[] {1181, 427},
    new[] {480, 572},
    new[] {311, 89},
    new[] {157, 170},
    new[] {922, 255},
    new[] {179, 182},
    new[] {1002, 498},
    new[] {634, 301},
    new[] {825, 312},
    new[] {843, 529},
    new[] {398, 787},
    new[] {209, 560},
    new[] {438, 361},
    new[] {490, 336},
    new[] {1203, 277},
    new[] {135, 872},
    new[] {321, 302},
    new[] {57, 144},
    new[] {987, 589},
    new[] {1029, 670},
    new[] {1200, 677},
    new[] {1285, 10},
    new[] {594, 639},
    new[] {1193, 633},
    new[] {320, 859},
    new[] {8, 816},
    new[] {20, 145},
    new[] {649, 596},
    new[] {756, 430},
    new[] {490, 367},
    new[] {803, 119},
    new[] {773, 185},
    new[] {851, 626},
    new[] {266, 703},
    new[] {492, 781},
    new[] {343, 569},
    new[] {768, 793},
    new[] {634, 833},
    new[] {109, 269},
    new[] {872, 585},
    new[] {440, 777},
    new[] {246, 470},
    new[] {1153, 262},
    new[] {15, 316},
    new[] {1128, 488},
    new[] {594, 761},
    new[] {296, 528},
    new[] {1238, 25},
    new[] {748, 374},
    new[] {989, 354},
    new[] {1201, 359},
    new[] {412, 409},
    new[] {1292, 171},
    new[] {920, 711},
    new[] {721, 352},
    new[] {977, 200},
    new[] {457, 756},
    new[] {750, 93},
    new[] {682, 96},
    new[] {725, 345},
    new[] {1116, 142},
    new[] {964, 712},
    new[] {30, 248},
    new[] {1002, 264},
    new[] {1084, 679},
    new[] {1081, 805},
    new[] {355, 246},
    new[] {1250, 639},
    new[] {1014, 254},
    new[] {283, 371},
    new[] {127, 177},
    new[] {989, 298},
    new[] {453, 203},
    new[] {65, 856},
    new[] {169, 354},
    new[] {502, 59},
    new[] {373, 229},
    new[] {187, 309},
    new[] {1126, 143},
    new[] {1250, 581},
    new[] {291, 250},
    new[] {569, 529},
    new[] {636, 764},
    new[] {383, 779},
    new[] {1210, 264},
    new[] {117, 633},
    new[] {565, 110},
    new[] {460, 478},
    new[] {518, 409},
    new[] {825, 876},
    new[] {333, 694},
    new[] {631, 416},
    new[] {599, 459},
    new[] {152, 280},
    new[] {1126, 173},
    new[] {542, 792},
    new[] {271, 235},
    new[] {569, 137},
    new[] {785, 875},
    new[] {1153, 316},
    new[] {333, 724},
    new[] {512, 591},
    new[] {957, 499},
    new[] {999, 325},
    new[] {512, 581},
    new[] {435, 721},
    new[] {231, 724},
    new[] {1004, 733},
    new[] {100, 264},
    new[] {488, 465},
    new[] {846, 572},
    new[] {674, 764},
    new[] {836, 864},
    new[] {800, 75},
    new[] {980, 768},
    new[] {65, 220},
    new[] {850, 416},
    new[] {343, 343},
    new[] {835, 856},
    new[] {470, 537},
    new[] {460, 30},
    new[] {321, 536},
    new[] {182, 187},
    new[] {1191, 131},
    new[] {463, 424},
    new[] {474, 254},
    new[] {321, 540},
    new[] {31, 850},
    new[] {85, 757},
    new[] {803, 631},
    new[] {152, 852},
    new[] {505, 477},
    new[] {910, 249},
    new[] {333, 802},
    new[] {766, 217},
    new[] {464, 322},
    new[] {147, 567},
    new[] {763, 372},
    new[] {1128, 406},
    new[] {502, 322},
    new[] {537, 409},
    new[] {904, 205},
    new[] {321, 648},
    new[] {525, 756},
    new[] {544, 777},
    new[] {679, 478},
    new[] {346, 182},
    new[] {490, 760},
    new[] {825, 746},
    new[] {952, 310},
    new[] {62, 679},
    new[] {18, 746},
    new[] {348, 857},
    new[] {999, 327},
    new[] {117, 392},
    new[] {1292, 723},
    new[] {880, 541},
    new[] {281, 869},
    new[] {773, 236},
    new[] {248, 205},
    new[] {753, 350},
    new[] {119, 147},
    new[] {808, 59},
    new[] {830, 572},
    new[] {264, 576},
    new[] {1052, 289},
    new[] {1067, 322},
    new[] {1191, 147},
    new[] {346, 731},
    new[] {467, 365},
    new[] {1198, 604},
    new[] {552, 353},
    new[] {266, 357},
    new[] {480, 59},
    new[] {30, 672},
    new[] {1128, 187},
    new[] {880, 31},
    new[] {996, 530},
    new[] {1113, 138},
    new[] {502, 729},
    new[] {147, 460},
    new[] {1193, 502},
    new[] {333, 799},
    new[] {745, 334},
    new[] {408, 536},
    new[] {328, 313},
    new[] {494, 208},
    new[] {271, 211},
    new[] {982, 114},
    new[] {238, 579},
    new[] {716, 761},
    new[] {1179, 850},
    new[] {219, 280},
    new[] {830, 281},
    new[] {592, 215},
    new[] {328, 786},
    new[] {863, 483},
    new[] {485, 648},
    new[] {440, 98},
    new[] {669, 29},
    new[] {109, 625},
    new[] {1124, 191},
    new[] {589, 84},
    new[] {164, 367},
    new[] {1039, 504},
    new[] {69, 560},
    new[] {741, 529},
    new[] {470, 50},
    new[] {199, 742},
    new[] {437, 535},
    new[] {989, 799},
    new[] {686, 248},
    new[] {991, 299},
    new[] {112, 604},
    new[] {475, 856},
    new[] {184, 50},
    new[] {226, 231},
    new[] {1002, 182},
    new[] {129, 467},
    new[] {457, 467},
    new[] {855, 45},
    new[] {1245, 289},
    new[] {5, 652},
    new[] {338, 470},
    new[] {267, 555},
    new[] {15, 752},
    new[] {72, 869},
    new[] {311, 855},
    new[] {475, 712},
    new[] {1175, 872},
    new[] {504, 516},
    new[] {247, 12},
    new[] {3, 813},
    new[] {582, 645},
    new[] {1163, 775},
    new[] {974, 144},
    new[] {217, 712},
    new[] {152, 21},
    new[] {633, 275},
    new[] {21, 446},
    new[] {162, 554},
    new[] {343, 39},
    new[] {557, 213},
    new[] {1136, 611},
    new[] {1068, 37},
    new[] {897, 473},
    new[] {1007, 142},
    new[] {592, 610},
    new[] {979, 813},
    new[] {1230, 536},
    new[] {609, 339},
    new[] {902, 536},
    new[] {736, 553},
    new[] {194, 640},
    new[] {1310, 578},
    new[] {378, 478},
    new[] {1275, 462},
    new[] {467, 368},
    new[] {947, 872},
    new[] {830, 59},
    new[] {659, 529},
    new[] {783, 276},
    new[] {430, 31},
    new[] {1131, 182},
    new[] {741, 305},
    new[] {1305, 652},
    new[] {855, 618},
    new[] {639, 142},
    new[] {10, 54},
    new[] {1044, 156},
    new[] {174, 611},
    new[] {493, 471},
    new[] {492, 106},
    new[] {870, 322},
    new[] {316, 852},
    new[] {701, 555},
    new[] {920, 186},
    new[] {112, 792},
    new[] {1098, 270},
    new[] {438, 809},
    new[] {398, 555},
    new[] {686, 222},
    new[] {1164, 304},
    new[] {1228, 532},
    new[] {1074, 585},
    new[] {127, 294},
    new[] {1163, 406},
    new[] {1131, 38},
    new[] {1279, 492},
    new[] {820, 880},
    new[] {1191, 763},
    new[] {482, 592},
    new[] {1158, 469},
    new[] {661, 806},
    new[] {199, 294},
    new[] {80, 134},
    new[] {746, 757},
    new[] {1198, 290},
    new[] {967, 262},
    new[] {60, 581},
    new[] {1111, 275},
    new[] {428, 679},
    new[] {291, 316},
    new[] {65, 457},
    new[] {32, 673},
    new[] {117, 684},
    new[] {711, 420},
    new[] {766, 397},
    new[] {35, 698},
    new[] {323, 589},
    new[] {825, 18},
    new[] {976, 490},
    new[] {718, 4},
    new[] {745, 784},
    new[] {537, 658},
    new[] {1044, 39},
    new[] {1111, 294},
    new[] {952, 528},
    new[] {808, 490},
    new[] {219, 721},
    new[] {676, 833},
    new[] {1123, 526},
    new[] {431, 787},
    new[] {187, 611},
    new[] {460, 304},
    new[] {97, 598},
    new[] {209, 334},
    new[] {227, 332},
    new[] {348, 733},
    new[] {172, 368},
    new[] {385, 361},
    new[] {35, 204},
    new[] {920, 330},
    new[] {619, 756},
    new[] {641, 29},
    new[] {1255, 420},
    new[] {174, 283},
    new[] {15, 119},
    new[] {962, 485},
    new[] {920, 708},
    new[] {447, 147},
    new[] {989, 302},
    new[] {1101, 782},
    new[] {340, 530},
    new[] {165, 871},
    new[] {1007, 30},
    new[] {1225, 589},
    new[] {1148, 340},
    new[] {320, 707},
    new[] {172, 144},
    new[] {182, 747},
    new[] {800, 676},
    new[] {604, 550},
    new[] {972, 470},
    new[] {535, 147},
    new[] {681, 884},
    new[] {753, 744},
    new[] {691, 361},
    new[] {226, 36},
    new[] {1201, 269},
    new[] {1265, 665},
    new[] {433, 674},
    new[] {1153, 632},
    new[] {110, 117},
    new[] {1096, 572},
    new[] {316, 42},
    new[] {1248, 610},
    new[] {738, 413},
    new[] {1011, 694},
    new[] {686, 360},
    new[] {1288, 754},
    new[] {604, 553},
    new[] {22, 754},
    new[] {477, 641},
    new[] {321, 298},
    new[] {885, 350},
    new[] {1072, 763},
    new[] {877, 805},
    new[] {126, 467},
    new[] {535, 579},
    new[] {55, 196},
    new[] {1163, 460},
    new[] {898, 485},
    new[] {199, 724},
    new[] {977, 802},
    new[] {169, 802},
    new[] {413, 421},
    new[] {1158, 165},
    new[] {18, 316},
    new[] {1123, 368},
    new[] {820, 134},
    new[] {718, 610},
    new[] {624, 222},
    new[] {1278, 221},
    new[] {455, 605},
    new[] {870, 661},
    new[] {1111, 177},
    new[] {1310, 316},
    new[] {574, 760},
    new[] {318, 750},
    new[] {1265, 677},
    new[] {152, 56},
    new[] {990, 859},
    new[] {507, 142},
    new[] {718, 215},
    new[] {1307, 813},
    new[] {838, 147},
    new[] {798, 49},
    new[] {49, 486},
    new[] {1138, 368},
    new[] {445, 670},
    new[] {103, 339},
    new[] {674, 130},
    new[] {999, 474},
    new[] {527, 618},
    new[] {825, 582},
    new[] {197, 756},
    new[] {1280, 646},
    new[] {701, 441},
    new[] {1196, 718},
    new[] {1029, 224},
    new[] {308, 498},
    new[] {470, 261},
    new[] {813, 276},
    new[] {1131, 108},
    new[] {651, 529},
    new[] {569, 305},
    new[] {1062, 857},
    new[] {741, 757},
    new[] {592, 890},
    new[] {1295, 295},
    new[] {972, 710},
    new[] {187, 864},
    new[] {709, 247},
    new[] {907, 842},
    new[] {741, 137},
    new[] {291, 764},
    new[] {557, 96},
    new[] {927, 698},
    new[] {1044, 191},
    new[] {238, 187},
    new[] {527, 65},
    new[] {547, 372},
    new[] {1158, 770},
    new[] {340, 628},
    new[] {21, 894},
    new[] {721, 674},
    new[] {927, 196},
    new[] {1287, 478},
    new[] {1041, 361},
    new[] {537, 185},
    new[] {1198, 796},
    new[] {1198, 156},
    new[] {1049, 133},
    new[] {502, 381},
    new[] {748, 53},
    new[] {1131, 712},
    new[] {977, 694},
    new[] {907, 108},
    new[] {964, 264},
    new[] {169, 312},
    new[] {485, 312},
    new[] {843, 368},
    new[] {455, 45},
    new[] {425, 798},
    new[] {475, 12},
    new[] {15, 540},
    new[] {393, 374},
    new[] {1125, 334},
    new[] {318, 144},
    new[] {146, 478},
    new[] {207, 131},
    new[] {840, 261},
    new[] {455, 401},
    new[] {1029, 809},
    new[] {803, 142},
    new[] {306, 37},
    new[] {152, 614},
    new[] {812, 490},
    new[] {468, 639},
    new[] {582, 249},
    new[] {31, 44},
    new[] {870, 669},
    new[] {1144, 877},
    new[] {999, 773},
    new[] {545, 199},
    new[] {400, 249},
    new[] {231, 618},
    new[] {140, 639},
    new[] {609, 453},
    new[] {65, 542},
    new[] {1136, 572},
    new[] {853, 427},
    new[] {266, 156},
    new[] {482, 302},
    new[] {117, 658},
    new[] {877, 674},
    new[] {808, 165},
    new[] {649, 592},
    new[] {1113, 586},
    new[] {1062, 653},
    new[] {783, 518},
    new[] {1059, 786},
    new[] {490, 880},
    new[] {850, 192},
    new[] {132, 198},
    new[] {972, 872},
    new[] {1093, 712},
    new[] {870, 213},
    new[] {1141, 354},
    new[] {1014, 366},
    new[] {485, 876},
    new[] {226, 663},
    new[] {691, 196},
    new[] {60, 255},
    new[] {887, 724},
    new[] {55, 698},
    new[] {694, 889},
    new[] {194, 142},
    new[] {5, 596},
    new[] {1310, 92},
    new[] {639, 121},
    new[] {1072, 187},
    new[] {691, 200},
    new[] {314, 812},
    new[] {1063, 12},
    new[] {932, 416},
    new[] {1168, 709},
    new[] {705, 486},
    new[] {1272, 217},
    new[] {214, 225},
    new[] {989, 358},
    new[] {65, 437},
    new[] {1158, 56},
    new[] {475, 38},
    new[] {38, 217},
    new[] {678, 588},
    new[] {311, 26},
    new[] {840, 751},
    new[] {1207, 339}
};

var folds = new[]
{
    // "y=7",
    // "x=5"
    
    "x=655",
    "y=447",
    "x=327",
    "y=223",
    "x=163",
    "y=111",
    "x=81",
    "y=55",
    "x=40",
    "y=27",
    "y=13",
    "y=6"
};

var data = new bool[2000, 2000];
var limitX = 0;
var limitY = 0;

foreach (var item in input)
{
    data[item[0], item[1]] = true;

    //Higher than limit.
    if (item[0] > limitX)
        limitX = item[0];

    if (item[1] > limitY)
        limitY = item[1];
}

Console.WriteLine($"limits: {limitX}, {limitY} ");

//Fold
for (var i = 0; i < folds.Length; i++)
{
    var line = Convert.ToInt32(folds[i].Substring(2));

    if (folds[i].Substring(0, 1) == "x")
    {
        for (var x = 1; (line + x) <= limitX && (line - x) >= 0; x++)
        {
            for (var y = 0; y <= limitY; y++)
            {
                data[line - x, y] = data[line - x, y] || data[line + x, y];
            }
        }

        limitX = line - 1;
    }
    else if (folds[i].Substring(0, 1) == "y")
    {
        for (var y = 1; (line + y) <= limitY && (line - y) >= 0; y++)
        {
            for (var x = 0; x <= limitX; x++)
            {
                data[x, line - y] = data[x, line - y] || data[x, line + y];
            }
        }

        limitY = line - 1;
    }
}

var count = 0;

for (var x = 0; x <= limitX; x++)
{
    for (var y = 0; y <= limitY; y++)
    {
        if (data[x, y])
        {
            Console.Write("# ");
            count++;
        }
        else
        {
            Console.Write(". ");
        }
    }

    Console.WriteLine("");
}

Console.WriteLine($"Count: {count}");